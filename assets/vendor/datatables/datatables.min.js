/* Local loader that dynamically loads DataTables and integration for Bootstrap 5 from CDN.
   This keeps a "local" file while using CDN resources. You may replace with full local bundles later.
*/
(function(){
  if (!window.jQuery) return console.warn('jQuery required for datatables.min.js');
  var scripts = [
    'https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js',
    'https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js',
    'https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js',
    'https://cdn.datatables.net/responsive/2.5.0/js/responsive.bootstrap5.min.js'
  ];
  function loadNext(i){
    if (i>=scripts.length) return; var s=document.createElement('script'); s.src=scripts[i]; s.onload=function(){ loadNext(i+1); }; s.onerror=function(){ console.warn('Failed to load', scripts[i]); loadNext(i+1); }; document.head.appendChild(s);
  }
  loadNext(0);
  // safe-check: expose a helper to know when loaded
  window._datatables_loader = window._datatables_loader || {};
  window._datatables_loader.ready = function(cb){
    var tries = 0;
    var t = setInterval(function(){ tries++; if (window.jQuery && jQuery.fn && jQuery.fn.dataTable) { clearInterval(t); cb(); } else if (tries>200) { clearInterval(t); cb(new Error('DataTables failed to load')); } }, 50);
  };
})();
